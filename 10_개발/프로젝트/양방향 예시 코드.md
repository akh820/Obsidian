## 객체 참조 (주소) 설명

### 1단계: 객체 생성

```java
EquipmentRequest request = EquipmentRequest.builder()
    .user(user)
    .status(RequestStatus.PENDING)
    .build();
```

**메모리 상태:**

```
변수 request → [주소: 0x100]

힙 메모리 (0x100):
┌─────────────────────────────┐
│ EquipmentRequest 객체        │
│ - user: user주소            │
│ - status: PENDING           │
│ - items: []                 │
└─────────────────────────────┘
```

---

### 2단계: RequestItem 생성

```java
RequestItem item = RequestItem.builder()
    .equipment(equipment)
    .quantity(1)
    .build();
```

**메모리 상태:**

```
변수 request → [주소: 0x100]
변수 item    → [주소: 0x200]

힙 메모리 (0x100):                    힙 메모리 (0x200):
┌──────────────────────┐             ┌──────────────────────┐
│ EquipmentRequest     │             │ RequestItem          │
│ - items: []          │             │ - equipment: ...     │
└──────────────────────┘             │ - equipmentRequest: null ← 아직 연결 안 됨!
                                     └──────────────────────┘
```

---

### 3단계: addItem 호출

```java
request.addItem(item);

// addItem 내부
public void addItem(RequestItem item) {
    this.items.add(item);              // this = 0x100 (request 주소)
    item.setEquipmentRequest(this);    // item의 equipmentRequest에 0x100 넣기!
}
```

**메모리 상태:**

```
변수 request → [주소: 0x100]
변수 item    → [주소: 0x200]

힙 메모리 (0x100):                    힙 메모리 (0x200):
┌──────────────────────┐             ┌──────────────────────┐
│ EquipmentRequest     │←────────────│ RequestItem          │
│ - items: [0x200] ────┼────────────→│ - equipment: ...     │
└──────────────────────┘             │ - equipmentRequest: 0x100 ← 연결됨!
                                     └──────────────────────┘

request.items → item 주소 (0x200)
item.equipmentRequest → request 주소 (0x100)

서로의 주소를 들고 있음! = 양방향 연결
```

---

### 정리

```java
this.items.add(item);
// request의 items 리스트에 item의 주소(0x200)를 추가

item.setEquipmentRequest(this);
// item의 equipmentRequest 필드에 this(=request의 주소 0x100)를 설정
```

**핵심:**

- Java 객체 = 주소(참조)로 연결
- `this` = 현재 객체의 주소 (여기서는 request)
- **서로 상대방 주소를 저장 = 양방향 연결!**